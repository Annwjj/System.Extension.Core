<a href="https://github.com/zhenlei520/System.Extension.Core/blob/master/Wiki/%e7%9b%ae%e5%bd%95.md">回到目录</a>

# IOC自动注入服务 #

在Nuget包市场中搜索`EInfrastructure.Core、EInfrastructure.Core.AutoFac`，并安装最新版本

### 数据库服务 ###
在Nuget包市场中搜索`EInfrastructure.Core.MySql`，并安装最新版本
或者
在Nuget包市场中搜索`EInfrastructure.Core.SqlServer`，并安装最新版本

在Starup中ConfigureServices中添加AutoFac自动注入，实例为：  
    
		public IServiceProvider ConfigureServices(IServiceCollection services)
		{
			this._serviceProvider = new AutofacAutoRegister().Build(services,
                (builder) => { });
		}

通过控制器注入的方式可直接得到IRepository 存储仓储,IQuery 查询仓储,IExecute 直接执行sql仓储，之后直接调用即可
例如：

		public class TestController{

			private readonly IRepository<TEntity,T> _repository;
			private readonly IQuery<TEntity,T> _query;
			private readonly IExecute _execute;

			public TestController(IRepository<TEntity,T> repository,IQuery<TEntity,T> query,IExecute execute){
				_repository=repository;
				_query=query;
				_execute=execute;
			}

			public void Check()
			{
				
			}
		} 